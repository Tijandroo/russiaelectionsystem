<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roblox Election Voting</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #2c2c2c 0%, #1a1a1a 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(40, 40, 40, 0.95);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            border: 1px solid #444;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background: rgba(45, 45, 45, 0.9);
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid #444;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #ffffff;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }
        
        h1 i {
            color: #7289da;
            margin-right: 10px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
            color: #b0b0b0;
        }
        
        .voting-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .candidate-list {
            flex: 2;
            min-width: 300px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }
        
        .results-panel {
            flex: 1;
            min-width: 300px;
            background: rgba(45, 45, 45, 0.9);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid #444;
        }
        
        .results-panel h2 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #ffffff;
            padding-bottom: 10px;
            border-bottom: 2px solid #7289da;
        }
        
        .results-panel h2 i {
            color: #7289da;
            margin-right: 8px;
        }
        
        .results-container {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .result-item {
            background: rgba(60, 60, 60, 0.7);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 12px;
            border-left: 4px solid #7289da;
            transition: all 0.3s;
        }
        
        .result-item:hover {
            background: rgba(70, 70, 70, 0.9);
            transform: translateX(5px);
        }
        
        .result-name {
            font-size: 1.1rem;
            color: #ffffff;
            margin-bottom: 5px;
        }
        
        .result-votes {
            font-size: 1.3rem;
            font-weight: bold;
            color: #43b581;
        }
        
        .result-bar {
            height: 6px;
            background: #444;
            border-radius: 3px;
            margin-top: 8px;
            overflow: hidden;
        }
        
        .result-fill {
            height: 100%;
            background: linear-gradient(90deg, #7289da, #43b581);
            border-radius: 3px;
            transition: width 0.5s ease-in-out;
        }
        
        .vote-info {
            background: rgba(60, 60, 60, 0.7);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            border: 1px solid #444;
            font-size: 0.95rem;
        }
        
        .vote-info i {
            color: #7289da;
            margin-right: 8px;
        }
        
        .candidate-card {
            background: rgba(45, 45, 45, 0.9);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s;
            border: 1px solid #444;
            position: relative;
            overflow: hidden;
        }
        
        .candidate-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
            border-color: #7289da;
        }
        
        .candidate-card.voted {
            border-color: #43b581;
            box-shadow: 0 0 0 2px rgba(67, 181, 129, 0.3);
        }
        
        .avatar-container {
            width: 140px;
            height: 140px;
            margin: 0 auto 15px;
            border-radius: 50%;
            overflow: hidden;
            border: 4px solid #7289da;
            background: #2c2c2c;
            position: relative;
        }
        
        .candidate-card.voted .avatar-container {
            border-color: #43b581;
        }
        
        .avatar-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .candidate-card:hover .avatar-img {
            transform: scale(1.05);
        }
        
        .candidate-name {
            font-size: 1.4rem;
            margin-bottom: 5px;
            color: #ffffff;
        }
        
        .candidate-username {
            font-size: 0.9rem;
            color: #b0b0b0;
            margin-bottom: 10px;
            font-style: italic;
        }
        
        .candidate-id {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 15px;
        }
        
        .vote-count {
            font-size: 1.2rem;
            margin: 15px 0;
            color: #43b581;
            font-weight: bold;
        }
        
        .vote-btn {
            background: linear-gradient(135deg, #7289da, #5b6eae);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            font-size: 1rem;
            letter-spacing: 0.5px;
        }
        
        .vote-btn:hover {
            background: linear-gradient(135deg, #5b6eae, #7289da);
            transform: scale(1.05);
        }
        
        .vote-btn:disabled {
            background: #444;
            cursor: not-allowed;
            transform: none;
        }
        
        .vote-btn.voted {
            background: linear-gradient(135deg, #43b581, #369268);
        }
        
        .vote-btn.voted:hover {
            background: linear-gradient(135deg, #369268, #43b581);
        }
        
        .vote-check {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #43b581;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            animation: popIn 0.3s ease-out;
        }
        
        @keyframes popIn {
            0% { transform: scale(0); }
            70% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .total-votes {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: rgba(60, 60, 60, 0.7);
            border-radius: 10px;
            font-size: 1.1rem;
            color: #ffffff;
            border: 1px solid #444;
        }
        
        .total-votes strong {
            color: #43b581;
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #43b581;
            color: #1a1a1a;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
            opacity: 0;
            transform: translateY(100px);
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1000;
            max-width: 350px;
            font-weight: bold;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .notification-content {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .notification-content i {
            font-size: 1.5rem;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #b0b0b0;
            grid-column: 1 / -1;
        }
        
        .loading i {
            font-size: 2rem;
            margin-bottom: 15px;
            color: #7289da;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            color: #888;
            font-size: 0.9rem;
            border-top: 1px solid #444;
        }
        
        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(60, 60, 60, 0.5);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #7289da;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #5b6eae;
        }
        
        @media (max-width: 768px) {
            .voting-container {
                flex-direction: column;
            }
            
            .candidate-list {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .notification {
                left: 20px;
                right: 20px;
                max-width: none;
            }
        }
        
        .error-message {
            background: rgba(255, 71, 87, 0.1);
            border: 1px solid #ff4757;
            color: #ff6b6b;
            padding: 15px;
            border-radius: 10px;
            margin: 20px auto;
            max-width: 600px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-vote-yea"></i> Roblox Election Voting</h1>
            <p class="subtitle">Cast your vote for your favorite candidate. You can only vote for one candidate.</p>
        </header>
        
        <div class="voting-container">
            <div id="candidate-list" class="candidate-list">
                <div class="loading">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Loading candidates...</p>
                </div>
            </div>
            
            <div class="results-panel">
                <h2><i class="fas fa-chart-bar"></i> Current Results</h2>
                <div id="results-container" class="results-container">
                    <div class="loading">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading results...</p>
                    </div>
                </div>
                <div id="total-votes-element" class="total-votes">
                    <strong>0</strong> total votes cast
                </div>
                <div class="vote-info">
                    <p><i class="fas fa-info-circle"></i> Welcome! You can vote for one candidate only. Your vote cannot be changed.</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Roblox Election Voting System | Votes are stored locally in your browser</p>
        </footer>
    </div>
    
    <div id="notification" class="notification">
        <div class="notification-content">
            <i class="fas fa-check-circle"></i>
            <span id="notification-text"></span>
        </div>
    </div>

    <script>
        // ============================================
        // CONFIGURATION
        // ============================================
        
        // Roblox User IDs for candidates
        // Add or remove IDs here
        const CANDIDATE_IDS = [
            "156",       // Builderman
            "261",       // Telamon
            "1134911",   // Rukiryo
            "3101665",   // KreekCraft
            "158415",    // Sorcus
            // Add more IDs here:
            // "1234567",
        ];
        
        // Custom display names (optional)
        const CUSTOM_NAMES = {
            "156": "Builderman (CEO)",
            "261": "Telamon",
            "1134911": "Rukiryo",
            "3101665": "KreekCraft",
            "158415": "Sorcus",
        };
        
        // Candidate descriptions
        const CANDIDATE_DESCRIPTIONS = {
            "156": "Founder & CEO of Roblox",
            "261": "Community Manager",
            "1134911": "Game Developer",
            "3101665": "Popular Content Creator",
            "158415": "Game Developer",
        };
        
        // CORS Proxy Configuration
        // IMPORTANT: Choose ONE of these proxy options:
        
        // Option 1: Use a public CORS proxy (for testing only)
        const USE_PUBLIC_PROXY = false; // Set to true to enable public proxy
        
        // Option 2: Use your own backend proxy
        // Create a simple Node.js/Express server or use a serverless function
        const BACKEND_PROXY_URL = ""; // Example: "https://your-backend.vercel.app/api/proxy"
        
        // Option 3: Use pre-configured fallback data (no API calls)
        const USE_FALLBACK_DATA = true; // Set to true to skip API calls entirely
        
        // Fallback data for when API fails
        const FALLBACK_CANDIDATES = {
            "156": {
                name: "Builderman",
                displayName: "Builderman (CEO)",
                description: "Founder & CEO of Roblox",
                avatarUrl: "https://tr.rbxcdn.com/bcdee8ac9a5a31a4759b448da7c9ff7e/150/150/AvatarHeadshot/Png"
            },
            "261": {
                name: "Telamon",
                displayName: "Telamon",
                description: "Community Manager",
                avatarUrl: "https://tr.rbxcdn.com/ed48128a86ab6cc04537207640f3e5a8/150/150/AvatarHeadshot/Png"
            },
            "1134911": {
                name: "Rukiryo",
                displayName: "Rukiryo",
                description: "Game Developer",
                avatarUrl: "https://tr.rbxcdn.com/9e7d0c3a4f81d4fa6864c5e755f1b150/150/150/AvatarHeadshot/Png"
            },
            "3101665": {
                name: "KreekCraft",
                displayName: "KreekCraft",
                description: "Popular Content Creator",
                avatarUrl: "https://tr.rbxcdn.com/0f0d1c30bb8c14136ab2a61baed35473/150/150/AvatarHeadshot/Png"
            },
            "158415": {
                name: "Sorcus",
                displayName: "Sorcus",
                description: "Game Developer",
                avatarUrl: "https://tr.rbxcdn.com/1a1a1a1a1a1a1a1a1a1a1a1a1a1a1a1a/150/150/AvatarHeadshot/Png"
            }
        };
    </script>

    <script>
        // ============================================
        // Voting System with CORS Workaround
        // ============================================
        
        class VotingSystem {
            constructor() {
                this.candidates = [];
                this.hasVoted = localStorage.getItem('hasVoted') === 'true';
                this.votedFor = localStorage.getItem('votedFor') || null;
                this.init();
            }
            
            async init() {
                try {
                    // Load candidate data
                    await this.loadCandidates();
                    
                    // Load saved votes
                    this.loadVotes();
                    
                    // Render the UI
                    this.renderCandidates();
                    this.renderResults();
                    
                    // If user has already voted, show which candidate
                    if (this.hasVoted && this.votedFor) {
                        const candidate = this.candidates.find(c => c.id === this.votedFor);
                        if (candidate) {
                            setTimeout(() => {
                                this.showNotification(`You voted for ${candidate.name}`);
                            }, 1000);
                        }
                    }
                } catch (error) {
                    console.error('Error initializing voting system:', error);
                    this.showNotification('Error loading candidates. Please refresh the page.');
                }
            }
            
            async loadCandidates() {
                this.candidates = [];
                
                // If using fallback data, skip API calls
                if (USE_FALLBACK_DATA) {
                    this.loadCandidatesFromFallback();
                    return;
                }
                
                // Load each candidate using proxy
                for (const id of CANDIDATE_IDS) {
                    try {
                        const candidate = await this.fetchRobloxUserWithProxy(id);
                        if (candidate) {
                            this.candidates.push(candidate);
                        }
                    } catch (error) {
                        console.error(`Error loading candidate ${id}:`, error);
                        // Try to load from fallback if API fails
                        this.loadCandidateFromFallback(id);
                    }
                }
            }
            
            loadCandidatesFromFallback() {
                for (const id of CANDIDATE_IDS) {
                    this.loadCandidateFromFallback(id);
                }
            }
            
            loadCandidateFromFallback(id) {
                const fallback = FALLBACK_CANDIDATES[id];
                if (fallback) {
                    const candidate = {
                        id: id,
                        name: CUSTOM_NAMES[id] || fallback.name,
                        username: fallback.name,
                        description: CANDIDATE_DESCRIPTIONS[id] || fallback.description || 'Candidate',
                        votes: parseInt(localStorage.getItem(`votes_${id}`)) || 0,
                        avatarUrl: fallback.avatarUrl,
                        displayName: CUSTOM_NAMES[id] || fallback.displayName || fallback.name
                    };
                    
                    // Check if current user voted for this candidate
                    if (this.hasVoted && this.votedFor === id) {
                        candidate.userVoted = true;
                    } else {
                        candidate.userVoted = false;
                    }
                    
                    this.candidates.push(candidate);
                }
            }
            
            async fetchRobloxUserWithProxy(robloxId) {
                // Choose proxy method
                let apiUrl;
                
                if (BACKEND_PROXY_URL) {
                    // Use your own backend proxy
                    apiUrl = `${BACKEND_PROXY_URL}?userId=${robloxId}`;
                } else if (USE_PUBLIC_PROXY) {
                    // Use public CORS proxy (NOT RECOMMENDED for production)
                    const encodedUrl = encodeURIComponent(`https://users.roblox.com/v1/users/${robloxId}`);
                    apiUrl = `https://api.allorigins.win/get?url=${encodedUrl}`;
                } else {
                    // No proxy configured, use fallback
                    throw new Error('No proxy configured');
                }
                
                try {
                    const response = await fetch(apiUrl);
                    
                    if (!response.ok) {
                        throw new Error(`Proxy request failed: ${response.status}`);
                    }
                    
                    let userData;
                    
                    if (USE_PUBLIC_PROXY) {
                        // Parse response from public proxy
                        const proxyData = await response.json();
                        userData = JSON.parse(proxyData.contents);
                    } else {
                        // Parse response from your own proxy
                        userData = await response.json();
                    }
                    
                    if (!userData || userData.errors) {
                        throw new Error('User not found');
                    }
                    
                    // Get avatar thumbnail (this API usually works with CORS)
                    let avatarImageUrl;
                    try {
                        const avatarUrl = `https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=${robloxId}&size=420x420&format=Png&isCircular=false`;
                        const avatarResponse = await fetch(avatarUrl);
                        
                        if (avatarResponse.ok) {
                            const avatarData = await avatarResponse.json();
                            if (avatarData.data && avatarData.data[0]) {
                                avatarImageUrl = avatarData.data[0].imageUrl;
                            }
                        }
                    } catch (avatarError) {
                        console.log('Using fallback avatar URL');
                    }
                    
                    // Create candidate object
                    const candidate = {
                        id: robloxId,
                        name: CUSTOM_NAMES[robloxId] || userData.name,
                        username: userData.name,
                        description: CANDIDATE_DESCRIPTIONS[robloxId] || 'Candidate',
                        votes: parseInt(localStorage.getItem(`votes_${robloxId}`)) || 0,
                        avatarUrl: avatarImageUrl || `https://www.roblox.com/headshot-thumbnail/image?userId=${robloxId}&width=420&height=420&format=png`,
                        displayName: userData.displayName || userData.name
                    };
                    
                    // Check if current user voted for this candidate
                    if (this.hasVoted && this.votedFor === robloxId) {
                        candidate.userVoted = true;
                    } else {
                        candidate.userVoted = false;
                    }
                    
                    return candidate;
                    
                } catch (error) {
                    console.error(`Error fetching Roblox user ${robloxId} via proxy:`, error);
                    throw error;
                }
            }
            
            loadVotes() {
                // Load votes for each candidate from localStorage
                this.candidates.forEach(candidate => {
                    const savedVotes = localStorage.getItem(`votes_${candidate.id}`);
                    if (savedVotes) {
                        candidate.votes = parseInt(savedVotes);
                    }
                });
            }
            
            saveVotes() {
                // Save votes for each candidate to localStorage
                this.candidates.forEach(candidate => {
                    localStorage.setItem(`votes_${candidate.id}`, candidate.votes.toString());
                });
            }
            
            vote(candidateId) {
                // Check if already voted
                if (this.hasVoted) {
                    this.showNotification("You can only vote for one candidate!");
                    return;
                }

                // Find candidate and update votes
                const candidate = this.candidates.find(c => c.id === candidateId);
                if (!candidate) return;

                // Update vote count
                candidate.votes++;
                candidate.userVoted = true;
                
                // Mark user as voted
                this.hasVoted = true;
                this.votedFor = candidateId;
                
                // Save to localStorage
                this.saveVotes();
                localStorage.setItem('hasVoted', 'true');
                localStorage.setItem('votedFor', candidateId);

                // Show notification
                this.showNotification(`âœ… You voted for ${candidate.name}! Your vote has been recorded.`);

                // Update UI
                this.renderCandidates();
                this.renderResults();
            }
            
            showNotification(message) {
                const notification = document.getElementById('notification');
                const notificationText = document.getElementById('notification-text');
                
                notificationText.textContent = message;
                notification.classList.add('show');
                
                // Hide after 5 seconds
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 5000);
            }
            
            renderCandidates() {
                const container = document.getElementById('candidate-list');
                
                if (this.candidates.length === 0) {
                    container.innerHTML = '<div class="loading"><i class="fas fa-exclamation-triangle"></i><p>No candidates available. Check configuration.</p></div>';
                    return;
                }

                container.innerHTML = this.candidates.map(candidate => {
                    const hasVotedForThis = this.hasVoted && this.votedFor === candidate.id;
                    
                    return `
                        <div class="candidate-card ${hasVotedForThis ? 'voted' : ''}">
                            ${hasVotedForThis ? '<div class="vote-check"><i class="fas fa-check"></i></div>' : ''}
                            
                            <div class="avatar-container">
                                <img src="${candidate.avatarUrl}" alt="${candidate.name}" class="avatar-img"
                                     onerror="this.onerror=null; this.src='https://via.placeholder.com/150/7289da/ffffff?text=${candidate.name.charAt(0)}'">
                            </div>
                            
                            <h3 class="candidate-name">${candidate.name}</h3>
                            <p class="candidate-username">@${candidate.username}</p>
                            <p class="candidate-id">ID: ${candidate.id}</p>
                            <p class="candidate-description">${candidate.description}</p>
                            
                            <div class="vote-count">${candidate.votes} votes</div>
                            
                            <button class="vote-btn ${hasVotedForThis ? 'voted' : ''}" 
                                    onclick="votingSystem.vote('${candidate.id}')"
                                    ${this.hasVoted ? 'disabled' : ''}>
                                ${hasVotedForThis ? '<i class="fas fa-check"></i> Voted' : '<i class="fas fa-vote-yea"></i> Vote Now'}
                            </button>
                        </div>
                    `;
                }).join('');
            }
            
            renderResults() {
                const container = document.getElementById('results-container');
                const totalVotesEl = document.getElementById('total-votes-element');
                
                // Sort by votes (descending)
                const sorted = [...this.candidates].sort((a, b) => b.votes - a.votes);
                
                // Calculate total votes
                const totalVotes = sorted.reduce((sum, candidate) => sum + candidate.votes, 0);
                
                // Find max votes for percentage calculation
                const maxVotes = sorted.length > 0 ? Math.max(...sorted.map(c => c.votes)) : 0;
                
                container.innerHTML = sorted.map(candidate => {
                    const percentage = maxVotes > 0 ? (candidate.votes / maxVotes) * 100 : 0;
                    const totalPercentage = totalVotes > 0 ? ((candidate.votes / totalVotes) * 100).toFixed(1) : 0;
                    
                    return `
                        <div class="result-item">
                            <div class="result-name">${candidate.name}</div>
                            <div class="result-votes">${candidate.votes} votes (${totalPercentage}%)</div>
                            <div class="result-bar">
                                <div class="result-fill" style="width: ${percentage}%"></div>
                            </div>
                        </div>
                    `;
                }).join('');
                
                if (totalVotesEl) {
                    totalVotesEl.innerHTML = `<strong>${totalVotes}</strong> total votes cast`;
                }
            }
            
            // Admin function to reset all votes (can be called from browser console)
            resetVotes() {
                if (confirm('Are you sure you want to reset ALL votes? This will reset everyone\'s votes.')) {
                    this.candidates.forEach(candidate => {
                        candidate.votes = 0;
                        localStorage.removeItem(`votes_${candidate.id}`);
                    });
                    
                    // Clear user's vote status
                    this.hasVoted = false;
                    this.votedFor = null;
                    localStorage.removeItem('hasVoted');
                    localStorage.removeItem('votedFor');
                    
                    this.renderCandidates();
                    this.renderResults();
                    this.showNotification('All votes have been reset!');
                }
            }
            
            // Admin function to clear user's personal vote
            clearMyVote() {
                if (confirm('Are you sure you want to clear your vote? You will be able to vote again.')) {
                    this.hasVoted = false;
                    this.votedFor = null;
                    localStorage.removeItem('hasVoted');
                    localStorage.removeItem('votedFor');
                    
                    // Clear vote status from candidates
                    this.candidates.forEach(candidate => {
                        candidate.userVoted = false;
                    });
                    
                    this.renderCandidates();
                    this.showNotification('Your vote has been cleared. You can vote again.');
                }
            }
        }

        // Initialize the voting system
        let votingSystem;

        document.addEventListener('DOMContentLoaded', () => {
            votingSystem = new VotingSystem();
        });

        // Make functions available globally
        window.votingSystem = votingSystem;
        window.resetVotes = () => votingSystem.resetVotes();
        window.clearMyVote = () => votingSystem.clearMyVote();
    </script>
</body>
</html>
